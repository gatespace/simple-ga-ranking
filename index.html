---
layout: page
tagline:
---

<article class="home">
  <h1>Overview</h1>
  <div>
    <p>PANThis is a WordPress plugin that shows articles ranking using Google Analytics.<br />The feature to work very lightweight, because it is not save ranking data in WordPress DB.</p>
    <ul>
      <li><a href="#install">Install</a>
      <li><a href="#setup">Setup</a>
      <li><a href="#function">Function</a>
      <li><a href="#shortcode">Shortcode</a>
      <li><a href="#hooks">Hooks</a>
    </ul>
  </div>
</article>

<article class="home">
  <h1 id="install">Install</h1>
  <div>
    <p>Simple GA Ranking on wordpress.org. Please install below:</p>
    <p><a class="btn btn-default" href="https://wordpress.org/plugins/simple-ga-ranking/">wordpress.org</a></p>
  </div>
</article>

<article class="home">
  <h1 id="setup">Setup</h1>
  <div>
    <ol>
      <li>Plugin install in yout WordPress
      <li>Oauth2 setting in <code>/wp-admin/options-general.php?page=gapiwp-analytics</code>. like below movie:<br>
      <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/aypwOtdx1eQ" frameborder="0" allowfullscreen></iframe>
      </div>
      <li>Parameter setting in <code>/wp-admin/options-general.php?page=sga_ranking</code>.
      <li>Set ranking module, using <code>Simple GA Ranking Widget</code> or <code>[sga_ranking] shortcode</code> or <code>sga_ranking_get_date() function</code>.
    </ol>
    <p></p>
  </div>
</article>
<article class="home">
  <h1 id="function">Function</h1>
  <p>The <code>sga_ranking_get_date()</code> function return post_id of ranking as array. Put the function at where you'd like to show the ranking in your theme.</p>
  <h3>Parameters</h3>
{% highlight php %}
<?php 
array(
    'display_count'           => 10,
    'period'                  => 30,
    'post_type'               => 'post',
    'exclude_post_type'       => '',
    '`taxonomy_slug`__in'     => '',
    '`taxonomy_slug`__not_in' => '',
    'filter'                  => ''
);
?>
{% endhighlight %}
  <ul>
    <li><code>display_count</code>: It specifies the number of rankings to be displayed.</li>
    <li><code>period</code>: It specifies the terms of period. Number of days of going back from today to the past.</li>
    <li><code>post_type</code>: set the attribute of the slug of the post-type you’d like to show. You can set multiple sulgs separeted by comma.</li>
    <li><code>exclude_post_type</code>: set the attribute of the post-type you’d NOT like to show. You can set multiple sulgs separeted by comma.</li>
    <li><code>'taxonomy_slug'__in</code>: set the attribute of the taxonomy you’d like to show. You can set multiple terms separeted by comma.</li>
    <li><code>'taxonomy_slug'__not_in</code>: set the attribute of the taxonomy you’d NOT like to show. You can set multiple terms separeted by comma.</li>
    <li><code>filter</code>: You can use the filter parameter as same as the fileter parameter of Google Analytics API. <a href="https://developers.google.com/analytics/devguides/reporting/core/v3/reference">Core Reporting API</a></li>
  </ul>
  <h3>Examples</h3>
  <h5><strong>Sample Code 1 : </strong>Common use.</h5>
{% highlight php %}
<?php 
if (function_exists('sga_ranking_get_date')) {
    $ranking_data = sga_ranking_get_date();
    if ( !empty( $ranking_data ) ) {
        echo '<ol>';
        foreach ( $ranking_data as $post_id ) {
            echo '<li><a href="' . esc_attr(get_permalink($post_id)) . '">' . esc_html(get_the_title($post_id)) . '</a></li>';
        }
        echo '</ol>';
    }
}
?>
{% endhighlight %}
  <h5><strong>Sample Code 2 : </strong>Filter a news category in posts.</h5>
{% highlight php %}
<?php
$args = array(
    'display_count' => 10,
    'period'        => 30,
    'post_type'     => 'post',
    'category__in'  => 'news'
);
$ranking_data = sga_ranking_get_date($args);
?>
{% endhighlight %}
    <h5><strong>Sample Code 3 : </strong>Filter <code>/en/</code> in URL.</h5>
{% highlight php %}
<?php
$args = array(
    'display_count' => 10,
    'period'        => 30,
    'post_type'     => 'post,page',
    'filter'        => 'ga:pagePath=~^/en/'
);
$ranking_data = sga_ranking_get_date($args);
?>
{% endhighlight %}
</article>
<article class="home">
  <h1 id="shortcode">Shortcode</h1>
  <p>Put the <code>[sga_ranking]</code> shortcode at where you'd like to show the ranking.</p>
  <h3>Parameters</h3>
  <p>The same as sga_ranking_get_date function.</p>
  <h3>Examples</h3>
  <ul>
    <li><code>[sga_ranking post_type="post,product"]</code></li>
    <li><code>[sga_ranking post_type="product" product_category__in="child" period="10" display_count="10"]</code></li>
  </ul>
</article>
<article class="home">
  <h1 id="hooks">Hooks</h1>
  <p>We provide some WordPress hooks. you can customize to use it.</p>
  <h3>Filter Hooks</h3>
  <ul>
    <li><code>sga_ranking_cache_expire</code>: You can update the terms of the ranking cache expire. default 1 day.</li>
    <li><code>sga_ranking_limit_filter</code>: You can update the limit of number to get from Google Analytics. Default 100.</li>
    <li><code>sga_ranking_before_title</code>: You can customize the html befor title.</li>
    <li><code>sga_ranking_after_title</code>: You can customize the html after title.</li>
    <li><code>sga_ranking_ids</code>: You can customize rankind post_ids.</li>
  </ul>
  <h3>Examples</h3>
  <h5><strong>Sample Code 1 :</strong> Cache expire is updated 12 hours.</h5>
{% highlight php %}
<?php add_filter( 'sga_ranking_cache_expire', function($expire) { return 12*60*60; } ); ?>
{% endhighlight %}
  <h5>Sample Code 2 :</strong> The number of data from GA is updated 200.</h5>
{% highlight php %}
<?php add_filter( 'sga_ranking_limit_filter', function($limit) { return 200; } ); ?>
{% endhighlight %}
</article>

<section class="share col-sm-6">
  <h4 class="section-title">Share</h4>
  <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text={{page.title | encode}}{% if site.author.twitter%}&via={{site.author.twitter}}{% endif %}" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
    <i class="fa fa-twitter fa-lg"></i>
    Twitter
  </a>
  <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
    <i class="fa fa-facebook fa-lg"></i>
    Facebook
  </a>
  <a class="btn btn-default btn-sm gplus" onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
    <i class="fa fa-google-plus fa-lg"></i>
    Google+
  </a>
</section>
<hr />

